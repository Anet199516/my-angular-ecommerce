<div appViewPanel>
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-xl font-semibold">Customer Reviews</h2>
    @if (store.user()) {
      <button matButton="filled" (click)="showWriteReview.set(!showWriteReview())">
        Write a Review
      </button>
    }
  </div>

  @if (showWriteReview()) {
    <app-write-review [(showWriteReview)]="showWriteReview" class="mb-6" />
  }

  <app-rating-summary [product]="product()" />

  <div class="flex flex-col gap-6">
    @for (review of product().reviews; track review.id) {
      <app-view-review-item [review]="review" />
    }
  </div>
</div>
